<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ventana de Johari - Team Exercise</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="language-selector">
                <button class="lang-btn" data-lang="es"> ES</button>
                <button class="lang-btn" data-lang="fr"> FR</button>
                <button class="lang-btn" data-lang="en"> EN</button>
            </div>
        </header>

        <!-- Admin Login Screen -->
        <main class="admin-login-screen hidden" id="adminLoginScreen">
            <h1 data-i18n="setup.loginTitle">Acceso C贸digos</h1>
            
            <div class="card">
                <p data-i18n="setup.loginMessage">Para ver los c贸digos, verifica que eres el administrador:</p>
                <input type="password" id="adminPassword" class="code-input" placeholder="Contrase帽a" data-i18n-placeholder="setup.password">
                <button class="btn-primary" id="verifyAdminBtn" data-i18n="setup.verify">Verificar</button>
                <p class="error-message hidden" id="loginErrorMessage" data-i18n="setup.loginError">Contrase帽a incorrecta</p>
            </div>
        </main>

        <main class="setup-screen" id="setupScreen">
            <h1 data-i18n="setup.title">Configuraci贸n - Ventana de Johari</h1>
            
            <div class="card">
                <h2 data-i18n="setup.participants">Participantes del equipo</h2>
                <p data-i18n="setup.instruction">Ingresa los nombres de los miembros del equipo:</p>
                
                <div class="participants-form" id="participantsForm"></div>
                
                <div class="participants-controls">
                    <button class="btn-secondary" id="addParticipantBtn" data-i18n="setup.addParticipant">+ A帽adir participante</button>
                </div>
                
                <div style="margin-top: 30px;">
                    <button class="btn-primary" id="generateCodes" data-i18n="setup.generate">Generar c贸digos de acceso</button>
                </div>
            </div>
        </main>

        <main class="codes-screen hidden" id="codesScreen">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h1 data-i18n="codes.title" style="margin: 0;">C贸digos generados</h1>
                <button class="btn-secondary" id="resetBtn" data-i18n="setup.newSession">Nueva Sesi贸n</button>
            </div>
            
            <div class="card">
                <p data-i18n="codes.instruction">Comparte estos c贸digos con cada participante:</p>
                <div id="codesList" class="codes-list"></div>
                
                <div class="admin-section">
                    <h3 data-i18n="codes.admin">Acceso Administrador</h3>
                    
                    <p data-i18n="codes.adminCode">Tu c贸digo de administrador:</p>
                    <div class="admin-code" id="adminCode"></div>
                    
                    <p style="margin-top: 20px;"><strong>Contrase帽a para ver c贸digos:</strong></p>
                    <div class="admin-password" id="adminPasswordDisplay"></div>
                </div>

                <button class="btn-secondary" id="copyAllCodes" data-i18n="codes.copy">Copiar todos los c贸digos</button>
            </div>

            <div class="card">
                <h3 data-i18n="codes.next">Pr贸ximos pasos</h3>
                <ol>
                    <li data-i18n="codes.step1">Cada participante accede con su c贸digo en la p谩gina de participante</li>
                    <li data-i18n="codes.step2">Completan su autoevaluaci贸n y evaluaciones de compa帽eros</li>
                    <li data-i18n="codes.step3">El administrador puede ver todas las ventanas generadas</li>
                </ol>
                
                <div class="navigation-buttons">
                    <a href="participant.html" class="btn-primary" data-i18n="codes.participant">Ir a p谩gina de participante</a>
                    <a href="admin.html" class="btn-primary" data-i18n="codes.adminPanel">Ir a panel administrador</a>
                </div>
            </div>
        </main>
    </div>

    <script>
        // API Base URL - set via environment variable or default to localhost
        window.API_BASE_URL = window.API_BASE_URL || '';
    </script>
    <script src="js/i18n.js"></script>
    <script src="js/data.js"></script>
    <script src="js/setup.js"></script>
</body>
</html>
